<!DOCTYPE html>
<html>
<head>
  <title>Embedding Vega-Lite</title>
  <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->
</head>
<body>

  <h1>VegaLite Charts</h1>

  <div id="vis" style="width: 100%; height: 100%;"></div>
  <footer></footer>

  <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>
  <script type="text/javascript">
    var vgSpec = "spec.vl.json"; //can be url
    var options = {
      "renderer":"svg",
      "actions":false
    };

    vegaEmbed("#vis", vgSpec, options).then(function(result){

      // Hack to force it to not have a fixed width / height
      setTimeout(() =>{
      
        Array.from(document.getElementById("vis").children).map(e => {
          if (e.tagName === 'svg'){
            e.removeAttribute("width");
            e.removeAttribute("height");
          }
        }); 
      
      }, 0);

    }).catch(console.warn);
  </script>
</body>
</html>
